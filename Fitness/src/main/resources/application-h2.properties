# =====================================================
# Fitness 健身管理系统 - H2 内存数据库配置
# 用于本地开发测试（无需 MySQL）
# =====================================================

# 数据库配置 - H2 内存数据库
spring.datasource.url=jdbc:h2:mem:fitness;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# 覆盖 HikariCP 配置（H2 不支持某些 MySQL 特定设置）
spring.datasource.hikari.connection-init-sql=
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2

# JPA 配置
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# H2 控制台（可选，用于调试）
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# SQL 初始化 - 禁用 SQL 脚本，使用 JPA 自动创建表
spring.sql.init.mode=never

# 禁用 Redis
spring.cache.type=simple
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
  org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration

# 日志配置
logging.level.root=INFO
logging.level.com.wzl.fitness=DEBUG
logging.level.org.hibernate.SQL=DEBUG
