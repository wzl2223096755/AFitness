# 开发环境特定配置

# 数据库配置（保持H2内存数据库用于开发）
spring.datasource.url=jdbc:h2:mem:fitness_db;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA配置 - 开发环境使用create-drop以方便调试
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# 启用H2控制台
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# 开发环境热加载
spring.devtools.restart.enabled=true
spring.devtools.restart.additional-paths=src/main/java

# 更详细的日志输出
logging.level.com.wzl.fitness=TRACE
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# JWT配置 - 必须至少512位 (64个字符) 才能满足 HS512 算法
jwt.secret=mySecretKey1234567890123456789012345678901234567890123456789012345678901234
jwt.expiration=3600000

# 开发环境CORS配置已在代码中实现

# 禁用SQL脚本初始化，让Hibernate自动生成表结构
spring.sql.init.mode=never

# 智能数据生成频率（秒）
smart.data.generation.interval=30

# 华为OAuth配置（开发环境）
huawei.oauth.client-id=115694371
huawei.oauth.client-secret=874a3ecdd33bf6b4e5e39a83aa75b883a4b79827e12ca8a97ed670dd1a3b8990
huawei.oauth.api-key=DgEDAFvr7whxsxfJ59OJjco+hVz6zVPr1HDRogLo9wug/zpvSzAZYN93vlDWgYP3W+/UQx31taTphIy1qX7KvN9vbdbEXxlFz34iaA==
huawei.oauth.enabled=true  # 启用华为集成

# ==================== API响应压缩配置 ====================
# 启用Gzip压缩
server.compression.enabled=true
# 压缩的最小响应大小（字节），小于此值不压缩
server.compression.min-response-size=1024
# 需要压缩的MIME类型
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css

# ==================== Jackson JSON序列化优化配置 ====================
# 忽略null值，减少响应体积
spring.jackson.default-property-inclusion=non_null
# 日期格式化
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
# 时区设置
spring.jackson.time-zone=Asia/Shanghai
# 禁用空对象序列化失败
spring.jackson.serialization.fail-on-empty-beans=false
# 禁用未知属性反序列化失败
spring.jackson.deserialization.fail-on-unknown-properties=false
# 启用缩进输出（开发环境可读性好）
spring.jackson.serialization.indent-output=true