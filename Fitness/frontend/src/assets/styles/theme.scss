@use './variables.scss' as *;

// =============================================================================
// 深色主题系统 - Enhanced Dark Theme System
// =============================================================================
// Requirements: 6.2, 7.3, 7.4, 7.5, 7.6

// =============================================================================
// 语义化颜色令牌 (Semantic Color Tokens)
// =============================================================================
// Requirements: 6.2, 7.6

// 深色主题变量 (Legacy - 保持向后兼容)
$dark-bg-primary: #1a1a1a;
$dark-bg-secondary: #2d2d2d;
$dark-bg-sidebar: #000000;
$dark-bg-header: #2d2d2d;
$dark-bg-card: #2d2d2d;

$dark-text-primary: #ffffff;
$dark-text-regular: #e0e0e0;
$dark-text-secondary: #a0a0a0;
$dark-text-placeholder: #666666;

$dark-border-color: #404040;
$dark-border-light: #333333;
$dark-border-lighter: #292929;

$dark-shadow-base: 0 2px 4px rgba(0, 0, 0, 0.3), 0 0 6px rgba(0, 0, 0, 0.1);
$dark-shadow-light: 0 2px 12px 0 rgba(0, 0, 0, 0.2);

// =============================================================================
// CSS Custom Properties - Semantic Color Tokens
// =============================================================================
:root {
  // -------------------------------------------------------------------------
  // Surface Colors (背景表面颜色)
  // -------------------------------------------------------------------------
  // Requirements: 7.6
  --color-surface-0: #0a0a14;                    // 最深背景 - 页面底层
  --color-surface-1: #121225;                    // 主要背景 - 内容区域
  --color-surface-2: rgba(15, 15, 35, 0.85);     // 卡片背景 - 带透明度
  --color-surface-3: rgba(15, 15, 35, 0.95);     // 模态框背景 - 高不透明度
  --color-surface-elevated: rgba(25, 25, 50, 0.95); // 悬浮元素背景
  --color-surface-overlay: rgba(0, 0, 0, 0.6);  // 遮罩层背景

  // -------------------------------------------------------------------------
  // Text Colors (文字颜色) - WCAG AA Compliant
  // -------------------------------------------------------------------------
  // Requirements: 6.2
  // 对比度计算基于 #0a0a14 背景
  --color-text-primary: #ffffff;                 // 主要文字 - 对比度 21:1
  --color-text-secondary: #94a3b8;               // 次要文字 - 对比度 7:1
  --color-text-tertiary: #64748b;                // 三级文字 - 对比度 4.5:1
  --color-text-disabled: #475569;                // 禁用文字 - 对比度 3:1
  --color-text-inverse: #0a0a14;                 // 反色文字 - 用于亮色背景
  --color-text-link: #8b5cf6;                    // 链接文字 - 对比度 5:1
  --color-text-link-hover: #a78bfa;              // 链接悬停 - 对比度 6:1

  // -------------------------------------------------------------------------
  // Border Colors (边框颜色)
  // -------------------------------------------------------------------------
  --color-border-default: rgba(99, 102, 241, 0.2);   // 默认边框
  --color-border-hover: rgba(99, 102, 241, 0.4);     // 悬停边框
  --color-border-focus: #8020ff;                      // 焦点边框
  --color-border-subtle: rgba(99, 102, 241, 0.1);    // 微弱边框
  --color-border-strong: rgba(99, 102, 241, 0.5);    // 强调边框
  --color-border-divider: rgba(99, 102, 241, 0.15);  // 分隔线

  // -------------------------------------------------------------------------
  // Interactive Colors (交互颜色)
  // -------------------------------------------------------------------------
  --color-interactive-default: rgba(99, 102, 241, 0.15);  // 默认交互背景
  --color-interactive-hover: rgba(99, 102, 241, 0.25);    // 悬停交互背景
  --color-interactive-active: rgba(99, 102, 241, 0.35);   // 激活交互背景
  --color-interactive-selected: rgba(128, 32, 255, 0.2);  // 选中状态背景
  --color-interactive-disabled: rgba(99, 102, 241, 0.08); // 禁用交互背景

  // -------------------------------------------------------------------------
  // Status Colors (状态颜色) - 深色背景优化
  // -------------------------------------------------------------------------
  // Requirements: 6.5
  --color-success: #10b981;                      // 成功色 - 对比度 4.5:1
  --color-success-hover: #0ea472;                // 成功悬停色
  --color-success-active: #0d9668;               // 成功激活色
  --color-success-bg: rgba(16, 185, 129, 0.15); // 成功背景
  --color-success-border: rgba(16, 185, 129, 0.4); // 成功边框
  --color-success-text: #34d399;                 // 成功文字 - 更亮

  --color-warning: #f59e0b;                      // 警告色 - 对比度 5:1
  --color-warning-hover: #e08f0a;                // 警告悬停色
  --color-warning-active: #ca8009;               // 警告激活色
  --color-warning-bg: rgba(245, 158, 11, 0.15); // 警告背景
  --color-warning-border: rgba(245, 158, 11, 0.4); // 警告边框
  --color-warning-text: #fbbf24;                 // 警告文字 - 更亮

  --color-danger: #ef4444;                       // 危险色 - 对比度 4.5:1
  --color-danger-hover: #dc2626;                 // 危险悬停色
  --color-danger-active: #b91c1c;                // 危险激活色
  --color-danger-bg: rgba(239, 68, 68, 0.15);   // 危险背景
  --color-danger-border: rgba(239, 68, 68, 0.4); // 危险边框
  --color-danger-text: #f87171;                  // 危险文字 - 更亮

  --color-info: #6366f1;                         // 信息色 - 对比度 4.5:1
  --color-info-hover: #4f46e5;                   // 信息悬停色
  --color-info-active: #4338ca;                  // 信息激活色
  --color-info-bg: rgba(99, 102, 241, 0.15);    // 信息背景
  --color-info-border: rgba(99, 102, 241, 0.4); // 信息边框
  --color-info-text: #818cf8;                    // 信息文字 - 更亮

  // -------------------------------------------------------------------------
  // Glassmorphism Variables (玻璃态效果)
  // -------------------------------------------------------------------------
  // Requirements: 7.5 - 统一玻璃态效果变量
  --glass-bg: rgba(15, 15, 35, 0.85);
  --glass-blur: 20px;
  --glass-border: rgba(99, 102, 241, 0.2);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  
  // 玻璃态效果变体
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-blur-light: 10px;
  --glass-border-light: rgba(255, 255, 255, 0.2);
  
  --glass-bg-dark: rgba(0, 0, 0, 0.5);
  --glass-blur-dark: 20px;
  --glass-border-dark: rgba(255, 255, 255, 0.1);
  
  // 玻璃态效果悬停状态
  --glass-border-hover: rgba(99, 102, 241, 0.4);
  --glass-shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(128, 32, 255, 0.2);

  // -------------------------------------------------------------------------
  // Primary Brand Colors (品牌主色)
  // -------------------------------------------------------------------------
  --color-primary: #8020ff;
  --color-primary-hover: #9040ff;
  --color-primary-active: #6010dd;
  --color-primary-bg: rgba(128, 32, 255, 0.15);
  --color-primary-border: rgba(128, 32, 255, 0.4);

  // -------------------------------------------------------------------------
  // Focus Ring (焦点环)
  // -------------------------------------------------------------------------
  --focus-ring-color: rgba(128, 32, 255, 0.5);
  --focus-ring-offset: 2px;
  --focus-ring-width: 3px;
}

// =============================================================================
// Status Color Utility Classes (状态颜色工具类)
// =============================================================================
// Requirements: 6.5

// Success Status (成功状态)
.status-success {
  color: var(--color-success-text);
  
  &-bg {
    background-color: var(--color-success-bg);
    border: 1px solid var(--color-success-border);
  }
  
  &-solid {
    background-color: var(--color-success);
    color: var(--color-text-inverse);
  }
}

// Warning Status (警告状态)
.status-warning {
  color: var(--color-warning-text);
  
  &-bg {
    background-color: var(--color-warning-bg);
    border: 1px solid var(--color-warning-border);
  }
  
  &-solid {
    background-color: var(--color-warning);
    color: var(--color-text-inverse);
  }
}

// Danger Status (危险状态)
.status-danger {
  color: var(--color-danger-text);
  
  &-bg {
    background-color: var(--color-danger-bg);
    border: 1px solid var(--color-danger-border);
  }
  
  &-solid {
    background-color: var(--color-danger);
    color: var(--color-text-inverse);
  }
}

// Info Status (信息状态)
.status-info {
  color: var(--color-info-text);
  
  &-bg {
    background-color: var(--color-info-bg);
    border: 1px solid var(--color-info-border);
  }
  
  &-solid {
    background-color: var(--color-info);
    color: var(--color-text-primary);
  }
}

// Status Badge (状态徽章)
.status-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  border-radius: 9999px;
  font-size: 12px;
  font-weight: 500;
  
  &--success {
    background-color: var(--color-success-bg);
    color: var(--color-success-text);
    border: 1px solid var(--color-success-border);
  }
  
  &--warning {
    background-color: var(--color-warning-bg);
    color: var(--color-warning-text);
    border: 1px solid var(--color-warning-border);
  }
  
  &--danger {
    background-color: var(--color-danger-bg);
    color: var(--color-danger-text);
    border: 1px solid var(--color-danger-border);
  }
  
  &--info {
    background-color: var(--color-info-bg);
    color: var(--color-info-text);
    border: 1px solid var(--color-info-border);
  }
}

// Status Indicator Dot (状态指示点)
.status-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  
  &--success {
    background-color: var(--color-success);
    box-shadow: 0 0 8px var(--color-success);
  }
  
  &--warning {
    background-color: var(--color-warning);
    box-shadow: 0 0 8px var(--color-warning);
  }
  
  &--danger {
    background-color: var(--color-danger);
    box-shadow: 0 0 8px var(--color-danger);
  }
  
  &--info {
    background-color: var(--color-info);
    box-shadow: 0 0 8px var(--color-info);
  }
}

// =============================================================================
// Element Plus Component Overrides (Element Plus 组件覆盖)
// =============================================================================
// Requirements: 7.4
// 使用语义化颜色令牌覆盖 Element Plus 组件样式
// Requirements: 7.4 - 确保 Element Plus 组件继承深色主题变量

// -------------------------------------------------------------------------
// Button Component (按钮组件)
// -------------------------------------------------------------------------
// 完整的 Element Plus 按钮变量覆盖，使用语义化颜色令牌
.el-button {
  // 基础按钮变量
  --el-button-bg-color: var(--color-interactive-default);
  --el-button-border-color: var(--color-border-default);
  --el-button-text-color: var(--color-text-primary);
  --el-button-hover-bg-color: var(--color-interactive-hover);
  --el-button-hover-border-color: var(--color-border-hover);
  --el-button-hover-text-color: var(--color-text-primary);
  --el-button-active-bg-color: var(--color-interactive-active);
  --el-button-active-border-color: var(--color-border-strong);
  --el-button-active-text-color: var(--color-text-primary);
  --el-button-disabled-bg-color: var(--color-interactive-disabled);
  --el-button-disabled-border-color: var(--color-border-subtle);
  --el-button-disabled-text-color: var(--color-text-disabled);
  
  // 按钮尺寸变量
  --el-button-font-weight: 500;
  --el-button-border-radius: 8px;
  
  // 确保按钮继承正确的背景和边框
  background-color: var(--el-button-bg-color);
  border-color: var(--el-button-border-color);
  color: var(--el-button-text-color);
  
  &:hover,
  &:focus {
    background-color: var(--el-button-hover-bg-color);
    border-color: var(--el-button-hover-border-color);
    color: var(--el-button-hover-text-color);
  }
  
  &:active {
    background-color: var(--el-button-active-bg-color);
    border-color: var(--el-button-active-border-color);
  }
  
  &.is-disabled,
  &[disabled] {
    background-color: var(--el-button-disabled-bg-color);
    border-color: var(--el-button-disabled-border-color);
    color: var(--el-button-disabled-text-color);
  }
  
  // Primary button - 使用语义化主色令牌
  &--primary {
    --el-button-bg-color: var(--color-primary);
    --el-button-border-color: var(--color-primary);
    --el-button-text-color: var(--color-text-primary);
    --el-button-hover-bg-color: var(--color-primary-hover);
    --el-button-hover-border-color: var(--color-primary-hover);
    --el-button-hover-text-color: var(--color-text-primary);
    --el-button-active-bg-color: var(--color-primary-active);
    --el-button-active-border-color: var(--color-primary-active);
    --el-button-disabled-bg-color: rgba(128, 32, 255, 0.4);
    --el-button-disabled-border-color: rgba(128, 32, 255, 0.4);
  }
  
  // Success button - 使用语义化成功色令牌
  &--success {
    --el-button-bg-color: var(--color-success);
    --el-button-border-color: var(--color-success);
    --el-button-text-color: var(--color-text-inverse);
    --el-button-hover-bg-color: var(--color-success-hover);
    --el-button-hover-border-color: var(--color-success-hover);
    --el-button-hover-text-color: var(--color-text-inverse);
    --el-button-active-bg-color: var(--color-success-active);
    --el-button-active-border-color: var(--color-success-active);
    --el-button-disabled-bg-color: rgba(16, 185, 129, 0.4);
    --el-button-disabled-border-color: rgba(16, 185, 129, 0.4);
  }
  
  // Warning button - 使用语义化警告色令牌
  &--warning {
    --el-button-bg-color: var(--color-warning);
    --el-button-border-color: var(--color-warning);
    --el-button-text-color: var(--color-text-inverse);
    --el-button-hover-bg-color: var(--color-warning-hover);
    --el-button-hover-border-color: var(--color-warning-hover);
    --el-button-hover-text-color: var(--color-text-inverse);
    --el-button-active-bg-color: var(--color-warning-active);
    --el-button-active-border-color: var(--color-warning-active);
    --el-button-disabled-bg-color: rgba(245, 158, 11, 0.4);
    --el-button-disabled-border-color: rgba(245, 158, 11, 0.4);
  }
  
  // Danger button - 使用语义化危险色令牌
  &--danger {
    --el-button-bg-color: var(--color-danger);
    --el-button-border-color: var(--color-danger);
    --el-button-text-color: var(--color-text-primary);
    --el-button-hover-bg-color: var(--color-danger-hover);
    --el-button-hover-border-color: var(--color-danger-hover);
    --el-button-hover-text-color: var(--color-text-primary);
    --el-button-active-bg-color: var(--color-danger-active);
    --el-button-active-border-color: var(--color-danger-active);
    --el-button-disabled-bg-color: rgba(239, 68, 68, 0.4);
    --el-button-disabled-border-color: rgba(239, 68, 68, 0.4);
  }
  
  // Info button - 使用语义化信息色令牌
  &--info {
    --el-button-bg-color: var(--color-info);
    --el-button-border-color: var(--color-info);
    --el-button-text-color: var(--color-text-primary);
    --el-button-hover-bg-color: var(--color-info-hover);
    --el-button-hover-border-color: var(--color-info-hover);
    --el-button-hover-text-color: var(--color-text-primary);
    --el-button-active-bg-color: var(--color-info-active);
    --el-button-active-border-color: var(--color-info-active);
    --el-button-disabled-bg-color: rgba(99, 102, 241, 0.4);
    --el-button-disabled-border-color: rgba(99, 102, 241, 0.4);
  }
  
  // Text button - 文字按钮
  &--text {
    --el-button-bg-color: transparent;
    --el-button-border-color: transparent;
    --el-button-text-color: var(--color-primary);
    --el-button-hover-bg-color: var(--color-interactive-hover);
    --el-button-hover-border-color: transparent;
    --el-button-hover-text-color: var(--color-primary-hover);
  }
  
  // Link button - 链接按钮
  &.is-link {
    --el-button-bg-color: transparent;
    --el-button-border-color: transparent;
    --el-button-text-color: var(--color-text-link);
    --el-button-hover-text-color: var(--color-text-link-hover);
  }
  
  // Plain button variants - 朴素按钮变体
  &.is-plain {
    --el-button-bg-color: transparent;
    
    &.el-button--primary {
      --el-button-text-color: var(--color-primary);
      --el-button-border-color: var(--color-primary-border);
      --el-button-hover-bg-color: var(--color-primary-bg);
      --el-button-hover-text-color: var(--color-primary);
    }
    
    &.el-button--success {
      --el-button-text-color: var(--color-success);
      --el-button-border-color: var(--color-success-border);
      --el-button-hover-bg-color: var(--color-success-bg);
      --el-button-hover-text-color: var(--color-success);
    }
    
    &.el-button--warning {
      --el-button-text-color: var(--color-warning);
      --el-button-border-color: var(--color-warning-border);
      --el-button-hover-bg-color: var(--color-warning-bg);
      --el-button-hover-text-color: var(--color-warning);
    }
    
    &.el-button--danger {
      --el-button-text-color: var(--color-danger);
      --el-button-border-color: var(--color-danger-border);
      --el-button-hover-bg-color: var(--color-danger-bg);
      --el-button-hover-text-color: var(--color-danger);
    }
    
    &.el-button--info {
      --el-button-text-color: var(--color-info);
      --el-button-border-color: var(--color-info-border);
      --el-button-hover-bg-color: var(--color-info-bg);
      --el-button-hover-text-color: var(--color-info);
    }
  }
}

// -------------------------------------------------------------------------
// Input Component (输入框组件)
// -------------------------------------------------------------------------
// 完整的 Element Plus 输入框变量覆盖，使用语义化颜色令牌
.el-input {
  // 基础输入框变量
  --el-input-bg-color: var(--color-surface-2);
  --el-input-border-color: var(--color-border-default);
  --el-input-text-color: var(--color-text-primary);
  --el-input-placeholder-color: var(--color-text-tertiary);
  --el-input-focus-border-color: var(--color-border-focus);
  --el-input-hover-border-color: var(--color-border-hover);
  --el-input-disabled-bg-color: var(--color-interactive-disabled);
  --el-input-disabled-border-color: var(--color-border-subtle);
  --el-input-disabled-text-color: var(--color-text-disabled);
  --el-input-disabled-placeholder-color: var(--color-text-disabled);
  
  // 输入框尺寸变量
  --el-input-border-radius: 8px;
  --el-input-inner-height: 32px;
  
  // 输入框图标颜色
  --el-input-icon-color: var(--color-text-tertiary);
  --el-input-clear-hover-color: var(--color-text-secondary);
  
  // 输入框包装器样式
  .el-input__wrapper {
    background-color: var(--color-surface-2);
    box-shadow: 0 0 0 1px var(--color-border-default) inset;
    transition: box-shadow 0.2s ease;
    
    &:hover {
      box-shadow: 0 0 0 1px var(--color-border-hover) inset;
    }
    
    &.is-focus {
      box-shadow: 0 0 0 1px var(--color-border-focus) inset, 
                  0 0 0 3px rgba(128, 32, 255, 0.15);
    }
    
    &.is-disabled {
      background-color: var(--color-interactive-disabled);
      box-shadow: 0 0 0 1px var(--color-border-subtle) inset;
    }
  }
  
  // 输入框内部元素
  .el-input__inner {
    color: var(--color-text-primary);
    
    &::placeholder {
      color: var(--color-text-tertiary);
    }
  }
  
  // 前缀和后缀图标
  .el-input__prefix,
  .el-input__suffix {
    color: var(--color-text-tertiary);
  }
  
  // 清除按钮
  .el-input__clear {
    color: var(--color-text-tertiary);
    
    &:hover {
      color: var(--color-text-secondary);
    }
  }
  
  // 密码显示按钮
  .el-input__password {
    color: var(--color-text-tertiary);
    
    &:hover {
      color: var(--color-text-secondary);
    }
  }
  
  // 字数统计
  .el-input__count {
    color: var(--color-text-tertiary);
    background-color: transparent;
  }
}

// Input Group (输入框组)
.el-input-group {
  .el-input-group__prepend,
  .el-input-group__append {
    background-color: var(--color-surface-2);
    border-color: var(--color-border-default);
    color: var(--color-text-secondary);
  }
}

// Textarea (文本域)
.el-textarea {
  --el-input-bg-color: var(--color-surface-2);
  --el-input-border-color: var(--color-border-default);
  --el-input-text-color: var(--color-text-primary);
  --el-input-placeholder-color: var(--color-text-tertiary);
  
  .el-textarea__inner {
    background-color: var(--color-surface-2);
    color: var(--color-text-primary);
    border-color: var(--color-border-default);
    
    &::placeholder {
      color: var(--color-text-tertiary);
    }
    
    &:hover {
      border-color: var(--color-border-hover);
    }
    
    &:focus {
      border-color: var(--color-border-focus);
      box-shadow: 0 0 0 3px rgba(128, 32, 255, 0.15);
    }
    
    &:disabled {
      background-color: var(--color-interactive-disabled);
      border-color: var(--color-border-subtle);
      color: var(--color-text-disabled);
    }
  }
  
  // 字数统计
  .el-textarea__count {
    color: var(--color-text-tertiary);
    background-color: var(--color-surface-2);
  }
}

// Input Number (数字输入框)
.el-input-number {
  --el-input-number-bg-color: var(--color-surface-2);
  --el-input-number-border-color: var(--color-border-default);
  
  .el-input-number__decrease,
  .el-input-number__increase {
    background-color: var(--color-surface-2);
    border-color: var(--color-border-default);
    color: var(--color-text-secondary);
    
    &:hover {
      color: var(--color-primary);
      background-color: var(--color-interactive-hover);
    }
    
    &.is-disabled {
      color: var(--color-text-disabled);
      background-color: var(--color-interactive-disabled);
    }
  }
}

// -------------------------------------------------------------------------
// Table Component (表格组件)
// -------------------------------------------------------------------------
.el-table {
  --el-table-bg-color: transparent;
  --el-table-tr-bg-color: transparent;
  --el-table-header-bg-color: var(--color-interactive-default);
  --el-table-row-hover-bg-color: var(--color-interactive-hover);
  --el-table-border-color: var(--color-border-default);
  --el-table-text-color: var(--color-text-secondary);
  --el-table-header-text-color: var(--color-text-primary);
  --el-table-current-row-bg-color: var(--color-interactive-selected);
  
  background-color: transparent;
  
  th.el-table__cell {
    background-color: var(--color-interactive-default);
    color: var(--color-text-primary);
    font-weight: 600;
  }
  
  td.el-table__cell {
    color: var(--color-text-secondary);
  }
  
  .el-table__empty-text {
    color: var(--color-text-tertiary);
  }
}

// -------------------------------------------------------------------------
// Table Component (表格组件) - 增强版
// -------------------------------------------------------------------------
// 完整的 Element Plus 表格变量覆盖，使用语义化颜色令牌
.el-table {
  // 基础表格变量
  --el-table-bg-color: transparent;
  --el-table-tr-bg-color: transparent;
  --el-table-header-bg-color: var(--color-interactive-default);
  --el-table-row-hover-bg-color: var(--color-interactive-hover);
  --el-table-border-color: var(--color-border-default);
  --el-table-text-color: var(--color-text-secondary);
  --el-table-header-text-color: var(--color-text-primary);
  --el-table-current-row-bg-color: var(--color-interactive-selected);
  --el-table-expanded-cell-bg-color: var(--color-surface-2);
  
  // 表格固定列阴影
  --el-table-fixed-box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
  --el-table-fixed-left-column: inset 10px 0 10px -10px rgba(0, 0, 0, 0.3);
  --el-table-fixed-right-column: inset -10px 0 10px -10px rgba(0, 0, 0, 0.3);
  
  background-color: transparent;
  
  // 表头样式
  th.el-table__cell {
    background-color: var(--color-interactive-default);
    color: var(--color-text-primary);
    font-weight: 600;
    border-bottom: 2px solid var(--color-border-default);
    
    .cell {
      color: var(--color-text-primary);
    }
  }
  
  // 表格单元格样式
  td.el-table__cell {
    background-color: transparent;
    color: var(--color-text-secondary);
    border-bottom: 1px solid var(--color-border-subtle);
    
    .cell {
      color: var(--color-text-secondary);
    }
  }
  
  // 表格行悬停效果
  .el-table__body tr:hover > td.el-table__cell {
    background-color: var(--color-interactive-hover);
  }
  
  // 当前选中行
  .el-table__body tr.current-row > td.el-table__cell {
    background-color: var(--color-interactive-selected);
  }
  
  // 斑马纹行
  .el-table__body tr.el-table__row--striped td.el-table__cell {
    background-color: rgba(99, 102, 241, 0.05);
  }
  
  // 空数据提示
  .el-table__empty-text {
    color: var(--color-text-tertiary);
  }
  
  // 表格展开行
  .el-table__expanded-cell {
    background-color: var(--color-surface-2);
    color: var(--color-text-secondary);
  }
  
  // 表格排序图标
  .sort-caret {
    border-color: transparent;
    
    &.ascending {
      border-bottom-color: var(--color-text-tertiary);
    }
    
    &.descending {
      border-top-color: var(--color-text-tertiary);
    }
  }
  
  .ascending .sort-caret.ascending {
    border-bottom-color: var(--color-primary);
  }
  
  .descending .sort-caret.descending {
    border-top-color: var(--color-primary);
  }
  
  // 表格筛选图标
  .el-table__column-filter-trigger {
    color: var(--color-text-tertiary);
    
    &:hover {
      color: var(--color-primary);
    }
  }
  
  // 固定列样式
  .el-table-fixed-column--left,
  .el-table-fixed-column--right {
    background-color: var(--color-surface-1);
  }
}

// 表格筛选面板
.el-table-filter-panel {
  background-color: var(--color-surface-3);
  border: 1px solid var(--color-border-default);
  
  .el-table-filter__list-item {
    color: var(--color-text-secondary);
    
    &:hover {
      background-color: var(--color-interactive-hover);
      color: var(--color-text-primary);
    }
    
    &.is-active {
      background-color: var(--color-interactive-selected);
      color: var(--color-primary);
    }
  }
}

// -------------------------------------------------------------------------
// Dialog Component (对话框组件) - 增强版
// -------------------------------------------------------------------------
// 完整的 Element Plus 对话框变量覆盖，使用语义化颜色令牌
.el-dialog {
  // 基础对话框变量
  --el-dialog-bg-color: var(--color-surface-3);
  --el-dialog-border-radius: 20px;
  --el-dialog-title-font-size: 18px;
  --el-dialog-content-font-size: 14px;
  --el-dialog-font-line-height: 1.6;
  --el-dialog-padding-primary: 24px;
  --el-dialog-box-shadow: var(--glass-shadow);
  
  // 玻璃态效果
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  
  // 对话框头部
  .el-dialog__header {
    border-bottom: 1px solid var(--color-border-divider);
    padding: 20px 24px;
    background-color: transparent;
  }
  
  // 对话框标题
  .el-dialog__title {
    color: var(--color-text-primary);
    font-weight: 600;
    font-size: var(--el-dialog-title-font-size);
  }
  
  // 关闭按钮
  .el-dialog__headerbtn {
    top: 20px;
    right: 20px;
    width: 32px;
    height: 32px;
    
    .el-dialog__close {
      color: var(--color-text-secondary);
      font-size: 18px;
      
      &:hover {
        color: var(--color-text-primary);
      }
    }
    
    &:hover {
      background-color: var(--color-interactive-hover);
      border-radius: 8px;
    }
  }
  
  // 对话框内容
  .el-dialog__body {
    color: var(--color-text-secondary);
    padding: 24px;
    font-size: var(--el-dialog-content-font-size);
    line-height: var(--el-dialog-font-line-height);
  }
  
  // 对话框底部
  .el-dialog__footer {
    border-top: 1px solid var(--color-border-divider);
    padding: 16px 24px;
    background-color: transparent;
  }
  
  // 全屏对话框
  &.is-fullscreen {
    border-radius: 0;
    border: none;
  }
  
  // 居中对话框
  &.is-align-center {
    .el-dialog__body {
      text-align: center;
    }
  }
}

// Dialog overlay (对话框遮罩层)
.el-overlay {
  background-color: var(--color-surface-overlay);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

// Dialog 动画
.el-overlay-dialog {
  display: flex;
  align-items: center;
  justify-content: center;
}

// Message Box (消息框) - 继承 Dialog 样式
.el-message-box {
  --el-messagebox-title-color: var(--color-text-primary);
  --el-messagebox-content-color: var(--color-text-secondary);
  --el-messagebox-content-font-size: 14px;
  
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  border-radius: 16px;
  
  .el-message-box__header {
    border-bottom: 1px solid var(--color-border-divider);
    padding: 16px 20px;
  }
  
  .el-message-box__title {
    color: var(--color-text-primary);
  }
  
  .el-message-box__content {
    color: var(--color-text-secondary);
    padding: 20px;
  }
  
  .el-message-box__btns {
    padding: 12px 20px 20px;
  }
  
  .el-message-box__close {
    color: var(--color-text-secondary);
    
    &:hover {
      color: var(--color-text-primary);
    }
  }
}

// -------------------------------------------------------------------------
// Card Component (卡片组件) - 增强版
// -------------------------------------------------------------------------
// 完整的 Element Plus 卡片变量覆盖，使用语义化颜色令牌
.el-card {
  // 基础卡片变量
  --el-card-bg-color: var(--color-surface-2);
  --el-card-border-color: var(--color-border-default);
  --el-card-border-radius: 16px;
  --el-card-padding: 20px;
  
  // 玻璃态效果
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  transition: box-shadow 0.3s ease, transform 0.3s ease, border-color 0.3s ease;
  
  // 卡片头部
  .el-card__header {
    border-bottom: 1px solid var(--color-border-divider);
    color: var(--color-text-primary);
    font-weight: 600;
    padding: 16px 20px;
    background-color: transparent;
  }
  
  // 卡片内容
  .el-card__body {
    color: var(--color-text-secondary);
    padding: var(--el-card-padding);
  }
  
  // 卡片悬停效果
  &:hover {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3), 0 0 20px rgba(128, 32, 255, 0.15);
    border-color: var(--color-border-hover);
  }
  
  // 无阴影卡片
  &.is-never-shadow {
    box-shadow: none;
    
    &:hover {
      box-shadow: none;
    }
  }
  
  // 悬停时显示阴影
  &.is-hover-shadow {
    box-shadow: none;
    
    &:hover {
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3), 0 0 20px rgba(128, 32, 255, 0.15);
    }
  }
  
  // 始终显示阴影
  &.is-always-shadow {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  }
}

// -------------------------------------------------------------------------
// Select Component (选择器组件)
// -------------------------------------------------------------------------
.el-select {
  --el-select-input-focus-border-color: var(--color-border-focus);
  --el-select-input-font-color: var(--color-text-primary);
  
  .el-select__wrapper {
    background-color: var(--color-surface-2);
    
    &:hover {
      box-shadow: 0 0 0 1px var(--color-border-hover);
    }
    
    &.is-focus {
      box-shadow: 0 0 0 1px var(--color-border-focus), 0 0 8px rgba(128, 32, 255, 0.2);
    }
  }
}

// Select dropdown
.el-select-dropdown {
  background: var(--color-surface-3);
  border: 1px solid var(--color-border-default);
  
  .el-select-dropdown__item {
    color: var(--color-text-secondary);
    
    &:hover {
      background-color: var(--color-interactive-hover);
    }
    
    &.is-selected {
      color: var(--color-primary);
      background-color: var(--color-interactive-selected);
    }
  }
}

// -------------------------------------------------------------------------
// Menu Component (菜单组件)
// -------------------------------------------------------------------------
.el-menu {
  --el-menu-bg-color: transparent;
  --el-menu-text-color: var(--color-text-secondary);
  --el-menu-hover-bg-color: var(--color-interactive-hover);
  --el-menu-active-color: var(--color-primary);
  --el-menu-item-height: 48px;
  
  .el-menu-item {
    &:hover {
      background-color: var(--color-interactive-hover);
    }
    
    &.is-active {
      color: var(--color-primary);
      background-color: var(--color-interactive-selected);
    }
  }
  
  .el-sub-menu__title {
    &:hover {
      background-color: var(--color-interactive-hover);
    }
  }
}

// -------------------------------------------------------------------------
// Tabs Component (标签页组件)
// -------------------------------------------------------------------------
.el-tabs {
  --el-tabs-header-bg-color: transparent;
  
  .el-tabs__item {
    color: var(--color-text-secondary);
    
    &:hover {
      color: var(--color-text-primary);
    }
    
    &.is-active {
      color: var(--color-primary);
    }
  }
  
  .el-tabs__active-bar {
    background-color: var(--color-primary);
  }
  
  .el-tabs__nav-wrap::after {
    background-color: var(--color-border-divider);
  }
}

// -------------------------------------------------------------------------
// Pagination Component (分页组件)
// -------------------------------------------------------------------------
.el-pagination {
  --el-pagination-button-bg-color: var(--color-surface-2);
  --el-pagination-hover-color: var(--color-primary);
  --el-pagination-button-color: var(--color-text-secondary);
  
  .el-pager li {
    background-color: var(--color-surface-2);
    color: var(--color-text-secondary);
    
    &:hover {
      color: var(--color-primary);
    }
    
    &.is-active {
      background-color: var(--color-primary);
      color: var(--color-text-primary);
    }
  }
  
  .btn-prev,
  .btn-next {
    background-color: var(--color-surface-2);
    color: var(--color-text-secondary);
    
    &:hover {
      color: var(--color-primary);
    }
  }
}

// -------------------------------------------------------------------------
// Form Component (表单组件)
// -------------------------------------------------------------------------
.el-form-item {
  --el-form-label-color: var(--color-text-primary);
  
  .el-form-item__label {
    color: var(--color-text-primary);
  }
  
  .el-form-item__error {
    color: var(--color-danger);
  }
}

// -------------------------------------------------------------------------
// Message Component (消息组件)
// -------------------------------------------------------------------------
.el-message {
  background: var(--color-surface-3);
  border: 1px solid var(--color-border-default);
  
  &--success {
    background: var(--color-success-bg);
    border-color: var(--color-success-border);
    
    .el-message__content {
      color: var(--color-success-text);
    }
  }
  
  &--warning {
    background: var(--color-warning-bg);
    border-color: var(--color-warning-border);
    
    .el-message__content {
      color: var(--color-warning-text);
    }
  }
  
  &--error {
    background: var(--color-danger-bg);
    border-color: var(--color-danger-border);
    
    .el-message__content {
      color: var(--color-danger-text);
    }
  }
  
  &--info {
    background: var(--color-info-bg);
    border-color: var(--color-info-border);
    
    .el-message__content {
      color: var(--color-info-text);
    }
  }
}

// -------------------------------------------------------------------------
// Notification Component (通知组件)
// -------------------------------------------------------------------------
.el-notification {
  background: var(--color-surface-3);
  border: 1px solid var(--color-border-default);
  
  .el-notification__title {
    color: var(--color-text-primary);
  }
  
  .el-notification__content {
    color: var(--color-text-secondary);
  }
  
  .el-notification__closeBtn {
    color: var(--color-text-tertiary);
    
    &:hover {
      color: var(--color-text-primary);
    }
  }
}

// -------------------------------------------------------------------------
// Tooltip Component (提示组件)
// -------------------------------------------------------------------------
.el-tooltip__trigger {
  outline: none;
}

.el-popper.is-dark {
  background: var(--color-surface-3);
  border: 1px solid var(--color-border-default);
  color: var(--color-text-primary);
}

// -------------------------------------------------------------------------
// Breadcrumb Component (面包屑组件)
// -------------------------------------------------------------------------
.el-breadcrumb {
  --el-breadcrumb-text-color: var(--color-text-tertiary);
  --el-breadcrumb-inner-color: var(--color-text-secondary);
  
  .el-breadcrumb__item:last-child .el-breadcrumb__inner {
    color: var(--color-text-primary);
  }
}

// -------------------------------------------------------------------------
// Tag Component (标签组件)
// -------------------------------------------------------------------------
.el-tag {
  --el-tag-bg-color: var(--color-interactive-default);
  --el-tag-border-color: var(--color-border-default);
  --el-tag-text-color: var(--color-text-secondary);
  
  &--success {
    --el-tag-bg-color: var(--color-success-bg);
    --el-tag-border-color: var(--color-success-border);
    --el-tag-text-color: var(--color-success-text);
  }
  
  &--warning {
    --el-tag-bg-color: var(--color-warning-bg);
    --el-tag-border-color: var(--color-warning-border);
    --el-tag-text-color: var(--color-warning-text);
  }
  
  &--danger {
    --el-tag-bg-color: var(--color-danger-bg);
    --el-tag-border-color: var(--color-danger-border);
    --el-tag-text-color: var(--color-danger-text);
  }
  
  &--info {
    --el-tag-bg-color: var(--color-info-bg);
    --el-tag-border-color: var(--color-info-border);
    --el-tag-text-color: var(--color-info-text);
  }
}

// -------------------------------------------------------------------------
// Switch Component (开关组件)
// -------------------------------------------------------------------------
.el-switch {
  --el-switch-off-color: var(--color-interactive-default);
  --el-switch-on-color: var(--color-primary);
  --el-switch-border-color: var(--color-border-default);
}

// -------------------------------------------------------------------------
// Checkbox & Radio Components (复选框和单选框组件)
// -------------------------------------------------------------------------
.el-checkbox {
  --el-checkbox-bg-color: var(--color-surface-2);
  --el-checkbox-input-border: var(--color-border-default);
  --el-checkbox-checked-bg-color: var(--color-primary);
  --el-checkbox-checked-input-border-color: var(--color-primary);
  --el-checkbox-text-color: var(--color-text-secondary);
}

.el-radio {
  --el-radio-input-border-color: var(--color-border-default);
  --el-radio-input-bg-color: var(--color-surface-2);
  --el-radio-text-color: var(--color-text-secondary);
}

// -------------------------------------------------------------------------
// Loading Component (加载组件)
// -------------------------------------------------------------------------
.el-loading-mask {
  background-color: var(--color-surface-overlay);
}

.el-loading-spinner {
  .circular {
    .path {
      stroke: var(--color-primary);
    }
  }
  
  .el-loading-text {
    color: var(--color-text-secondary);
  }
}

// 主题切换混合器
@mixin theme-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

// =============================================================================
// Theme Transition Utility Class (主题过渡效果工具类)
// =============================================================================
// Requirements: 7.3 - 实现 300ms 平滑过渡

// 主题过渡效果类 - 应用于需要平滑主题切换的元素
// 使用方式: 在需要平滑过渡的元素上添加 class="theme-transition"
.theme-transition {
  transition: 
    background-color 300ms ease,
    color 300ms ease,
    border-color 300ms ease,
    box-shadow 300ms ease,
    fill 300ms ease,
    stroke 300ms ease;
}

// 主题过渡效果 - 快速版本 (150ms)
.theme-transition-fast {
  transition: 
    background-color 150ms ease,
    color 150ms ease,
    border-color 150ms ease,
    box-shadow 150ms ease;
}

// 主题过渡效果 - 慢速版本 (500ms)
.theme-transition-slow {
  transition: 
    background-color 500ms ease,
    color 500ms ease,
    border-color 500ms ease,
    box-shadow 500ms ease;
}

// 主题过渡效果 - 全属性版本 (包含更多属性)
.theme-transition-all {
  transition: 
    background-color 300ms ease,
    background 300ms ease,
    color 300ms ease,
    border-color 300ms ease,
    box-shadow 300ms ease,
    fill 300ms ease,
    stroke 300ms ease,
    opacity 300ms ease,
    transform 300ms ease;
}

// 禁用主题过渡 - 用于需要立即切换的场景
.theme-transition-none {
  transition: none !important;
}

// 主题基础类
.theme-container {
  @include theme-transition;
}

// 深色主题样式
[data-theme="dark"] {
  // 背景颜色
  .app-container {
    background-color: $dark-bg-primary;
  }
  
  .sidebar {
    background-color: $dark-bg-sidebar !important;
  }
  
  .header {
    background-color: $dark-bg-header !important;
    border-bottom-color: $dark-border-color !important;
  }
  
  .card {
    background-color: $dark-bg-card;
    border-color: $dark-border-color;
    color: $dark-text-primary;
  }
  
  .page-content {
    background-color: $dark-bg-primary;
  }
  
  // 文字颜色
  .text-primary { color: $dark-text-primary; }
  .text-regular { color: $dark-text-regular; }
  .text-secondary { color: $dark-text-secondary; }
  .text-placeholder { color: $dark-text-placeholder; }
  
  // 边框颜色
  .el-table {
    --el-table-border-color: #{$dark-border-color};
    --el-table-header-bg-color: #{$dark-bg-secondary};
    --el-table-row-hover-bg-color: #{mix(white, $dark-bg-secondary, 5%)};
  }
  
  .el-menu {
    --el-menu-bg-color: transparent;
    --el-menu-text-color: #{$dark-text-secondary};
    --el-menu-hover-bg-color: #{mix(white, $dark-bg-sidebar, 10%)};
    --el-menu-active-color: #{$primary-color};
  }
  
  .el-button {
    &--default {
      background-color: $dark-bg-secondary;
      border-color: $dark-border-color;
      color: $dark-text-primary;
      
      &:hover {
        background-color: mix(white, $dark-bg-secondary, 5%);
        border-color: mix(white, $dark-border-color, 10%);
      }
    }
  }
  
  .el-input {
    --el-input-bg-color: #{$dark-bg-secondary};
    --el-input-border-color: #{$dark-border-color};
    --el-input-text-color: #{$dark-text-primary};
    --el-input-placeholder-color: #{$dark-text-placeholder};
  }
  
  .el-select {
    --el-select-input-focus-border-color: #{$primary-color};
    --el-select-input-font-color: #{$dark-text-primary};
  }
  
  .el-dialog {
    --el-dialog-bg-color: #{$dark-bg-card};
    --el-dialog-border-color: #{$dark-border-color};
  }
  
  .el-card {
    --el-card-bg-color: #{$dark-bg-card};
    --el-card-border-color: #{$dark-border-color};
  }
  
  // 图表背景
  .chart-container {
    background-color: $dark-bg-card;
    border-color: $dark-border-color;
  }
  
  // 滚动条
  ::-webkit-scrollbar-track {
    background: $dark-bg-secondary;
  }
  
  ::-webkit-scrollbar-thumb {
    background: $dark-border-color;
    
    &:hover {
      background: $dark-border-light;
    }
  }
  
  // 面包屑
  .el-breadcrumb {
    --el-breadcrumb-text-color: #{$dark-text-secondary};
    --el-breadcrumb-inner-color: #{$dark-text-regular};
  }
  
  // 标签页
  .el-tabs {
    --el-tabs-header-bg-color: #{$dark-bg-card};
    --el-tabs-item-color: #{$dark-text-secondary};
    --el-tabs-item-hover-color: #{$dark-text-regular};
    --el-tabs-item-active-color: #{$primary-color};
  }
  
  // 分页
  .el-pagination {
    --el-pagination-button-bg-color: #{$dark-bg-secondary};
    --el-pagination-hover-color: #{$primary-color};
  }
  
  // 加载状态
  .loading {
    color: $dark-text-secondary;
  }
  
  // 空状态
  .empty-state {
    color: $dark-text-secondary;
    
    &__description {
      color: $dark-text-placeholder;
    }
  }
}

// 主题切换按钮样式
.theme-toggle {
  position: relative;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background-color: var(--bg-card);
  border: 1px solid var(--border-color);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  @include theme-transition;
  
  &:hover {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
  }
  
  .theme-icon {
    font-size: 18px;
  }
}

// 系统主题偏好支持
@media (prefers-color-scheme: dark) {
  [data-theme="auto"] {
    // 背景颜色
    .app-container {
      background-color: $dark-bg-primary;
    }
    
    .sidebar {
      background-color: $dark-bg-sidebar !important;
    }
    
    .header {
      background-color: $dark-bg-header !important;
      border-bottom-color: $dark-border-color !important;
    }
    
    .card {
      background-color: $dark-bg-card;
      border-color: $dark-border-color;
      color: $dark-text-primary;
    }
    
    .page-content {
      background-color: $dark-bg-primary;
    }
    
    // 文字颜色
    .text-primary { color: $dark-text-primary; }
    .text-regular { color: $dark-text-regular; }
    .text-secondary { color: $dark-text-secondary; }
    .text-placeholder { color: $dark-text-placeholder; }
  }
}

// 高对比度深色主题
@media (prefers-contrast: high) {
  [data-theme="dark"] {
    .card {
      border: 2px solid $dark-border-color;
    }
    
    .btn-primary {
      border-width: 2px;
    }
  }
}

// =============================================================================
// 全局深色主题覆盖 - 修复浅色主题硬编码颜色问题
// =============================================================================
// 使用 Neon Ionized Palette 深色主题变量覆盖所有页面组件

// 页面容器深色主题
.nutrition-page,
.training-data-page,
.training-suggestions-container,
.user-profile-container,
.dashboard-page,
.dashboard-container {
  background: linear-gradient(135deg, $bg-primary 0%, $bg-secondary 100%) !important;
  color: $text-primary !important;
}

// 卡片组件深色主题
.overview-card,
.chart-card,
.form-card,
.records-card,
.profile-card,
.body-stats,
.suggestion-card,
.training-plan,
.metric-card,
.activity-content,
.welcome-section,
.daily-motivation,
.weather-widget,
.summary-card,
.analytics-section {
  background: rgba($bg-secondary, 0.95) !important;
  backdrop-filter: blur(10px) !important;
  border: 1px solid $border-color !important;
  color: $text-primary !important;
  box-shadow: $shadow-base !important;
}

// 卡片悬停效果
.overview-card:hover,
.metric-card:hover,
.summary-card:hover {
  box-shadow: $shadow-base, 0 0 20px rgba($primary-color, 0.2) !important;
}

// 标题文字深色主题
.page-header h1,
.page-header .page-description,
.section-title,
.chart-header h3,
.card-header h3,
.welcome-title,
.welcome-subtitle,
.metric-title,
.metric-subtitle,
.card-title,
.card-value,
.stat-value,
.stat-label,
.stat-desc,
.value-number,
.value-unit,
.motivation-quote,
.motivation-author,
.motivation-date,
.temperature,
.weather-desc,
.food-name,
.food-calories,
.exercise-name,
.exercise-type,
.day-header,
.day-content,
.recovery-score,
.main-suggestion h3,
.main-suggestion p,
.empty-content h3,
.empty-content p,
.empty-title,
.empty-description {
  color: $text-primary !important;
}

// 次要文字颜色
.metric-subtitle,
.card-unit,
.stat-desc,
.motivation-author,
.motivation-date,
.weather-desc,
.food-calories,
.exercise-type,
.empty-content p,
.empty-description {
  color: $text-secondary !important;
}

// 统计项深色主题
.stat-item,
.quick-stats {
  background: rgba($bg-secondary, 0.8) !important;
  border: 1px solid $border-color !important;
  color: $text-primary !important;
}

.stat-item:hover {
  background: rgba($bg-secondary, 0.95) !important;
  box-shadow: $shadow-light !important;
}

// 训练建议页面特定样式
.exercise-item,
.day-plan {
  background: rgba($bg-secondary, 0.8) !important;
  border: 1px solid $border-color !important;
  color: $text-primary !important;
}

.recovery-indicator {
  background: rgba($success-color, 0.1) !important;
  border: 1px solid rgba($success-color, 0.3) !important;
}

.main-suggestion {
  background: rgba($primary-color, 0.1) !important;
  border-left: 4px solid $primary-color !important;
}

// 食物建议列表深色主题
.food-suggestions {
  background: $bg-secondary !important;
  border: 1px solid $border-color !important;
  box-shadow: $shadow-base !important;
}

.suggestion-item {
  border-bottom-color: $border-color !important;
  color: $text-primary !important;
}

.suggestion-item:hover,
.suggestion-item-active {
  background: rgba($primary-color, 0.1) !important;
}

// 表格深色主题覆盖
.el-table {
  --el-table-bg-color: transparent !important;
  --el-table-tr-bg-color: transparent !important;
  --el-table-header-bg-color: rgba(128, 32, 255, 0.15) !important;
  --el-table-row-hover-bg-color: rgba(128, 32, 255, 0.15) !important;
  --el-table-border-color: rgba(112, 0, 255, 0.2) !important;
  --el-table-text-color: #e0e0ff !important;
  --el-table-header-text-color: #ffffff !important;
  background-color: transparent !important;
}

.el-table__header-wrapper {
  background: rgba(128, 32, 255, 0.15) !important;
}

.el-table th {
  background: transparent !important;
  color: #ffffff !important;
  border-bottom: 2px solid rgba(112, 0, 255, 0.2) !important;
}

.el-table th .cell {
  color: #ffffff !important;
}

.el-table td {
  background: transparent !important;
  color: #e0e0ff !important;
  border-bottom: 1px solid rgba(112, 0, 255, 0.1) !important;
}

.el-table td .cell {
  color: #e0e0ff !important;
}

.el-table__body tr:hover > td {
  background-color: rgba(128, 32, 255, 0.15) !important;
}

.el-table__body tr.el-table__row--striped td {
  background: rgba(18, 18, 37, 0.3) !important;
}

.el-table__empty-text {
  color: #8888aa !important;
}

:deep(.el-table) {
  background-color: transparent !important;
  
  th {
    background: rgba(128, 32, 255, 0.15) !important;
    color: #ffffff !important;
    border-bottom: 2px solid rgba(112, 0, 255, 0.2) !important;
    
    .cell {
      color: #ffffff !important;
    }
  }
  
  td {
    background: transparent !important;
    color: #e0e0ff !important;
    border-bottom: 1px solid rgba(112, 0, 255, 0.1) !important;
    
    .cell {
      color: #e0e0ff !important;
    }
  }
  
  tr:hover > td {
    background: rgba(128, 32, 255, 0.15) !important;
  }
}

// 表单组件深色主题
.el-form-item__label {
  color: $text-primary !important;
}

// 空状态图标
.empty-icon {
  color: $text-secondary !important;
  opacity: 0.6 !important;
}

// 加载占位符深色主题
.loading-placeholder {
  background: linear-gradient(90deg, $bg-secondary 25%, rgba($primary-color, 0.2) 50%, $bg-secondary 75%) !important;
}

// 进度条和指示器
.metric-progress .progress-bar {
  background: rgba($text-secondary, 0.2) !important;
}

.metric-progress .progress-fill {
  background: linear-gradient(90deg, $primary-color, $accent-color) !important;
}

// 模态框深色主题
.modal-content,
.el-dialog {
  background: $bg-secondary !important;
  border: 1px solid $border-color !important;
  color: $text-primary !important;
}

.modal-header,
.el-dialog__header {
  border-bottom: 1px solid $border-color !important;
}

.modal-title,
.el-dialog__title {
  color: $text-primary !important;
}

// 图表容器深色主题
.chart-container,
.chart-content {
  background: transparent !important;
}

// 按钮深色主题增强
.action-button,
.primary-action {
  box-shadow: 0 0 10px rgba($primary-color, 0.3) !important;
}

.action-button:hover,
.primary-action:hover {
  box-shadow: 0 0 20px rgba($primary-color, 0.5) !important;
}

// 时间选择器深色主题
.time-range-btn {
  background: $bg-secondary !important;
  border-color: $border-color !important;
  color: $text-primary !important;
}

.time-range-btn:hover {
  border-color: $primary-color !important;
  color: $primary-color !important;
}

.time-range-btn.active {
  background: $primary-color !important;
  border-color: $primary-color !important;
  color: $text-white !important;
}

// 恢复状态和目标详情
.recovery-details,
.goal-details {
  color: $text-primary !important;
}

.score-value,
.score-label {
  color: $text-primary !important;
}

.recovery-recommendations,
.goal-info {
  background: rgba($bg-secondary, 0.5) !important;
}

.recovery-recommendations h4,
.goal-info h4 {
  color: $text-primary !important;
}

.recovery-recommendations li,
.goal-info p {
  color: $text-secondary !important;
}

// 性能详情
.performance-details {
  color: $text-primary !important;
}

.performance-label {
  color: $text-primary !important;
}

.performance-desc {
  color: $text-secondary !important;
}

// 因子项
.factor-item {
  background: rgba($bg-secondary, 0.5) !important;
  color: $text-primary !important;
}

.factor-label {
  color: $text-secondary !important;
}

// 目标项
.goal-item {
  border-bottom-color: $border-color !important;
}

.goal-name {
  color: $text-primary !important;
}

.goal-progress {
  color: $text-secondary !important;
}

.goal-bar {
  background: rgba($text-secondary, 0.2) !important;
}

// 推荐项
.recommendations {
  background: rgba($bg-secondary, 0.5) !important;
}

.recommendations-title {
  color: $text-primary !important;
}

.recommendation-item {
  color: $text-secondary !important;
}